function renderShopping() {
  if (!shoppingGridAllEl) return;

  const storeFilter = shoppingStoreFilter ? shoppingStoreFilter.value : "ALL";
  let items = shoppingList;
  if (storeFilter !== "ALL") {
    items = items.filter(i => i.store === storeFilter);
  }

  shoppingGridAllEl.innerHTML = items.map(item => {
    const link = item.imageUrl || ""; // é€™è£¡æŠŠå®ƒç•¶æˆ Drive é€£çµ
    return `
      <div class="shopping-card">
        <div class="shopping-name-row">
          <div class="shopping-name">${item.name}</div>
          <span class="shopping-edit" data-id="${item.id}">âœï¸</span>
        </div>
        <div class="shopping-note">
          ${item.store ? `ğŸª ${item.store}` : ""}${item.owner ? ` Â· ğŸ‘¤ ${item.owner}` : ""}
        </div>
        ${item.note ? `<div class="shopping-note">${item.note}</div>` : ""}
        ${
          link
            ? `<div class="shopping-note">
                 <a href="${link}" target="_blank" rel="noopener noreferrer">
                   ğŸ”— æŸ¥çœ‹åœ–ç‰‡
                 </a>
               </div>`
            : ""
        }
      </div>
    `;
  }).join("");

  document.querySelectorAll(".shopping-edit").forEach(btn => {
    btn.addEventListener("click", () => {
      const id = btn.dataset.id;
      const item = shoppingList.find(i => i.id === id);
      if (!item) return;
      editingShoppingId = id;
      shoppingName.value = item.name || "";
      shoppingNote.value = item.note || "";
      shoppingOwner.value = item.owner || "Luna";
      shoppingStore.value = item.store || "";
      shoppingImageUrl.value = item.imageUrl || "";
      openModal(shoppingModal);
    });
  });
}
